<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë…ì„œ í€´ì¦ˆ - ì´ì›ƒ</title>
    <style>
        :root {
            --primary-color: #4A90E2;
            --secondary-color: #607D8B;
            --bg-color: #f8f9fa;
            --correct-color: #FF5722; 
            --wrong-color: #FBC02D;   
        }

        body, html { margin: 0; padding: 0; font-family: 'Nanum Gothic', sans-serif; height: 100%; background: var(--bg-color); scroll-behavior: smooth; }
        
        .page { display: none; width: 100%; min-height: 100vh; position: relative; padding-bottom: 80px; box-sizing: border-box; }
        .page.active { display: flex; flex-direction: column; }

        /* í•˜ë‹¨ í™ˆ ë²„íŠ¼ */
        .home-btn {
            position: fixed; bottom: 0; left: 0; width: 100%; height: 60px;
            background: #333; color: white; border: none; font-size: 1.1rem;
            cursor: pointer; z-index: 100; text-decoration: none;
            display: flex; align-items: center; justify-content: center;
        }

        /* 1. í‘œì§€ í˜ì´ì§€ */
        #page-cover { 
            background: url('images/neighber.jpg') no-repeat center center; 
            background-size: cover; cursor: pointer; justify-content: center; align-items: center;
        }
        #page-cover .overlay { 
            background: rgba(0,0,0,0.5); width: 85%; padding: 30px; border-radius: 20px;
            text-align: center; color: white; 
        }

        /* 2. ë¬¸ì œ í˜ì´ì§€ */
        #page-quiz { display: none; padding: 0; }
        #page-quiz.active { display: block; }
        .quiz-container { padding: 20px; }
        .question-item { background: white; padding: 18px; margin-bottom: 25px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
        .question-text { font-size: 1.1rem; font-weight: bold; margin-bottom: 15px; line-height: 1.4; color: #2c3e50; }
        .options { list-style: none; padding: 0; margin: 0; }
        .options li { 
            background: #f1f3f5; margin: 10px 0; padding: 14px; border-radius: 8px; 
            cursor: pointer; transition: 0.2s; border: 2px solid transparent;
        }
        .options li.selected { background: #e7f1ff; border-color: var(--primary-color); color: var(--primary-color); font-weight: bold; }
        
        /* ë²„íŠ¼ ê·¸ë£¹ ìŠ¤íƒ€ì¼ */
        .quiz-footer-btns { padding: 0 20px 40px 20px; display: flex; flex-direction: column; gap: 10px; }
        .btn-action { 
            width: 100%; padding: 18px; border: none; border-radius: 12px; 
            font-size: 1.2rem; font-weight: bold; cursor: pointer;
        }
        .review-btn { background: var(--secondary-color); color: white; }
        .submit-btn { background: var(--primary-color); color: white; }

        /* 3. ê²°ê³¼ í˜ì´ì§€ */
        .result-item { 
            display: flex; align-items: center; justify-content: space-between;
            background: white; margin-bottom: 12px; padding: 20px; border-radius: 12px; 
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); cursor: pointer;
        }
        .icon-correct { width: 32px; height: 32px; border: 4px solid var(--correct-color); border-radius: 50%; }
        .icon-wrong { font-size: 1.8rem; color: var(--wrong-color); }

        /* ìˆ˜ì • ëª¨ë‹¬ */
        #review-modal { 
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
            background: rgba(0,0,0,0.85); z-index: 200; align-items: center; justify-content: center;
        }
        .modal-content { background: white; width: 90%; max-height: 80vh; overflow-y: auto; padding: 25px; border-radius: 20px; }

        /* 4. ì¶•í•˜ í˜ì´ì§€ */
        #page-success { 
            background: #FFEB3B; display: none; text-align: center; 
            justify-content: center; align-items: center; cursor: pointer; padding: 20px;
        }
        #page-success h1 { font-size: 2.8rem; color: #E65100; margin: 0; }
    </style>
</head>
<body>

    <div id="page-cover" class="page active" onclick="showPage('page-quiz')">
        <div class="overlay">
            <h1 style="margin:0; font-size: 2rem;">ì´ì›ƒ</h1>
            <p style="margin: 10px 0 0 0; font-size: 1.2rem;">ê¹€ì„±ë¯¸ ê·¸ë¦¼ì±… ë…ì„œ í€´ì¦ˆ</p>
            <p style="margin-top: 30px; font-size: 0.9rem; opacity: 0.8;">í™”ë©´ì„ í„°ì¹˜í•˜ì—¬ ì‹œì‘í•˜ì„¸ìš”</p>
        </div>
        <a href="index.html" class="home-btn" onclick="event.stopPropagation();">í™ˆìœ¼ë¡œ</a>
    </div>

    <div id="page-quiz" class="page">
        <div id="quiz-list" class="quiz-container"></div>
        <div class="quiz-footer-btns">
            <button class="btn-action review-btn" onclick="scrollToTop()">ê²€í† í•´ ë³¼ê¹Œìš”?</button>
            <button class="btn-action submit-btn" onclick="gradeQuiz()">ì±„ì í•´ ë³¼ê¹Œìš”?</button>
        </div>
        <a href="index.html" class="home-btn">í™ˆìœ¼ë¡œ</a>
    </div>

    <div id="page-result" class="page">
        <div style="padding: 20px;">
            <h2 style="text-align: center;">ì±„ì  ê²°ê³¼</h2>
            <div id="result-status"></div>
            <button class="btn-action review-btn" style="margin-top:20px;" onclick="showPage('page-quiz')">ë‹¤ì‹œ í’€ê¸°</button>
        </div>
        <a href="index.html" class="home-btn">í™ˆìœ¼ë¡œ</a>
    </div>

    <div id="review-modal" onclick="this.style.display='none'">
        <div class="modal-content" onclick="event.stopPropagation()">
            <div id="modal-body"></div>
            <button class="btn-action submit-btn" style="margin-top:20px;" onclick="closeModal()">í™•ì¸</button>
        </div>
    </div>

    <div id="page-success" class="page" onclick="location.href='Quiz_neighbor.html'">
        <h1>ğŸ†<br>ë…ì„œì™• ì¡°ìœ¨!<br>í€´ì¦ˆì™• ì¡°ìœ¨!</h1>
        <p>ì „ë¶€ ë‹¤ ë§í˜”ì–´ìš”! ëŒ€ë‹¨í•´ìš”!<br>(í„°ì¹˜í•˜ë©´ ì²˜ìŒìœ¼ë¡œ)</p>
    </div>

    <script>
        const quizData = [
            { q: "ì´ ì±…ì˜ ì£¼ì¸ê³µì¸ ëŠ‘ëŒ€ ì•„ì €ì”¨ê°€ ì‚¬ëŠ” ì§‘ì˜ ìœ„ì¸µ(3ì¸µ)ì—ëŠ” ëˆ„ê°€ ì‚´ê³  ìˆë‚˜ìš”?", a: [ "ì½”ë¼ë¦¬ ë¶€ë¶€", "ë‘ë”ì§€ ì•„ì €ì”¨", "í† ë¼ ê°€ì¡±", "ê¸°ë¦° ì„ ìƒë‹˜" ], c: 2 },
            { q: "ëŠ‘ëŒ€ ì•„ì €ì”¨ëŠ” ì²˜ìŒì— ìœ„ì¸µì—ì„œ ë‚˜ëŠ” 'ì¿µì¾…ì¿µì¾…' ì†Œë¦¬ë¥¼ ë“£ê³  ì–´ë–¤ ê¸°ë¶„ì´ ë“¤ì—ˆì„ê¹Œìš”?", a: [ "ë„ˆë¬´ ì‹ ë‚˜ì„œ ì¶¤ì„ ì¶”ê³  ì‹¶ì—ˆë‹¤.", "ì‹œë„ëŸ¬ì›Œì„œ í™”ê°€ ë‚˜ê³  ì§œì¦ì´ ë‚¬ë‹¤.", "ìœ„ì¸µ ì¹œêµ¬ë“¤ê³¼ ë¹¨ë¦¬ ë†€ê³  ì‹¶ì–´ ì„¤ë ˆì—ˆë‹¤.", "ì•„ë¬´ ì†Œë¦¬ë„ ë“¤ë¦¬ì§€ ì•Šì•„ ì‹¬ì‹¬í–ˆë‹¤." ], c: 1 },
            { q: "\"ì˜¨ ì§‘ ì•ˆì´ ë“¤ì©ê±°ë ¸ì–´ìš”.\"ì—ì„œ 'ë“¤ì©ê±°ë¦¬ë‹¤'ì˜ ëœ»ìœ¼ë¡œ ê°€ì¥ ì•Œë§ì€ ê²ƒì€?", a: [ "ë¬¼ê±´ì´ ì¡°ìš©íˆ ì œìë¦¬ì— ìˆë‹¤.", "ê³µê¸°ê°€ ì•„ì£¼ ì°¨ê°‘ê²Œ ë³€í•˜ë‹¤.", "í° ì†Œë™ì´ ì¼ì–´ë‚˜ê±°ë‚˜ ìê¾¸ ìœ„ì•„ë˜ë¡œ ì›€ì§ì´ë‹¤.", "ì ì´ ì†”ì†” ì˜¬ ì •ë„ë¡œ í‰í™”ë¡­ë‹¤." ], c: 2 },
            { q: "ëŠ‘ëŒ€ ì•„ì €ì”¨ëŠ” ì—˜ë¦¬ë² ì´í„°ì—ì„œ ì½”ë¼ë¦¬ ë¶€ë¶€ë¥¼ ë§Œë‚˜ê³  ê¹œì§ ë†€ëìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ë¬´ì—‡ì¸ê°€ìš”?", a: [ "ì½”ë¼ë¦¬ ë¶€ë¶€ê°€ ëŠ‘ëŒ€ ì•„ì €ì”¨ì˜ ì•„ë˜ì¸µ(1ì¸µ)ì— ì‚´ê³  ìˆì–´ì„œ", "ì½”ë¼ë¦¬ ë¶€ë¶€ê°€ ë„ˆë¬´ ì‘ê³  ê·€ì—¬ì›Œì„œ", "ì½”ë¼ë¦¬ ë¶€ë¶€ê°€ ëŠ‘ëŒ€ ì•„ì €ì”¨ì—ê²Œ í™”ë¥¼ ë‚´ì„œ", "ì—˜ë¦¬ë² ì´í„°ê°€ ê°‘ìê¸° ê³ ì¥ ë‚˜ì„œ" ], c: 0 },
            { q: "ìœ„ì¸µ ì†ŒìŒì— ëŒ€í•´ ì¸ë¬¼ë“¤ì´ ì˜¤í•´í•˜ê³  ìˆëŠ” ê´€ê³„ë¥¼ ë°”ë¥´ê²Œ ì„¤ëª…í•œ ê²ƒì€?", a: [ "í† ë¼ ê°€ì¡±ì€ ëŠ‘ëŒ€ ì•„ì €ì”¨ê°€ ì‹œë„ëŸ½ë‹¤ê³  ìƒê°í–ˆë‹¤.", "ëŠ‘ëŒ€ ì•„ì €ì”¨ëŠ” ì½”ë¼ë¦¬ ë¶€ë¶€ê°€ ìœ„ì¸µì—ì„œ ì‹œë„ëŸ½ê²Œ í•œë‹¤ê³  ìƒê°í–ˆë‹¤.", "ì½”ë¼ë¦¬ ë¶€ë¶€ëŠ” ì§€í•˜ì— ì‚¬ëŠ” ë‘ë”ì§€ê°€ ì‹œë„ëŸ½ë‹¤ê³  ìƒê°í–ˆë‹¤.", "ë‘ë”ì§€ ì•„ì €ì”¨ëŠ” 3ì¸µ í† ë¼ë“¤ì´ ì‹œë„ëŸ½ë‹¤ê³  ìƒê°í–ˆë‹¤." ], c: 1 },
            { q: "ìœ„ì¸µì—ì„œ 'ì¿µì¿µ' ì†Œë¦¬ê°€ ë‚¬ë˜ ì§„ì§œ ì´ìœ ëŠ” ë¬´ì—‡ì´ì—ˆë‚˜ìš”?", a: [ "ì½”ë¼ë¦¬ ë¶€ë¶€ê°€ ìš´ë™ì„ í•´ì„œ", "ëŠ‘ëŒ€ ì•„ì €ì”¨ê°€ í…”ë ˆë¹„ì „ì„ í¬ê²Œ í‹€ì–´ì„œ", "ì¥ë‚œê¾¸ëŸ¬ê¸° í† ë¼ ì•„ì´ë“¤ì´ ì‹ ë‚˜ê²Œ ë›°ë†€ì•„ì„œ", "ë‘ë”ì§€ ì•„ì €ì”¨ê°€ ë•…ì„ íŒŒì„œ" ], c: 2 },
            { q: "ëŠ‘ëŒ€ ì•„ì €ì”¨ëŠ” ì´ì›ƒ ê°„ì˜ ê°ˆë“±(ì‹¸ì›€)ì„ í•´ê²°í•˜ê¸° ìœ„í•´ ì–´ë–¤ ë°©ë²•ì„ ì¼ë‚˜ìš”?", a: [ "ê²½ì°°ì„œì— ì‹ ê³ í•´ì„œ ì´ì›ƒë“¤ì„ ì«“ì•„ëƒˆë‹¤.", "ì´ì›ƒë“¤ì„ ì§‘ìœ¼ë¡œ ì´ˆëŒ€í•´ ë§›ìˆëŠ” ë–¡ì„ ë‚˜ëˆ„ì–´ ë¨¹ì—ˆë‹¤.", "ë” í° ì†Œë¦¬ë¥¼ ë‚´ì„œ ë³µìˆ˜ë¥¼ í–ˆë‹¤.", "ì•„ë¬´ ë§ë„ í•˜ì§€ ì•Šê³  ì´ì‚¬ë¥¼ ê°”ë‹¤." ], c: 1 },
            { q: "ì´ ì±…ì˜ ì œëª©ì¸ <ì´ì›ƒ>ì„ ë‹¤ë¥¸ ì œëª©ìœ¼ë¡œ ë°”ê¾¼ë‹¤ë©´ ê°€ì¥ ì–´ìš¸ë¦¬ëŠ” ê²ƒì€?", a: [ "í˜¼ì ì‚¬ëŠ” ê²Œ ìµœê³ ì•¼", "ë¬´ì„œìš´ ì½”ë¼ë¦¬ ë¶€ë¶€", "ë¨¼ì € ê±´ë„¤ëŠ” ë”°ëœ»í•œ ì¸ì‚¬", "ì„¸ìƒì—ì„œ ê°€ì¥ ì¡°ìš©í•œ ì•„íŒŒíŠ¸" ], c: 2 },
            { q: "ì‘ê°€ë‹˜ì´ ì´ ì±…ì„ í†µí•´ ìš°ë¦¬ì—ê²Œ ì „í•˜ê³  ì‹¶ì€ í•µì‹¬ ë©”ì‹œì§€ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?", a: [ "ì§‘ ì•ˆì—ì„œëŠ” ë¬´ì¡°ê±´ ë›°ì–´ì•¼ í•œë‹¤.", "ì´ì›ƒë¼ë¦¬ëŠ” ì„œë¡œ ë¯¸ì›Œí•´ì•¼ í•œë‹¤.", "ì„œë¡œ ì´í•´í•˜ê³  ë°°ë ¤í•˜ë©´ ì¢‹ì€ ì´ì›ƒì´ ë  ìˆ˜ ìˆë‹¤.", "ì‹œë„ëŸ¬ìš°ë©´ ë¬´ì¡°ê±´ í™”ë¥¼ ë‚´ì•¼ í•œë‹¤." ], c: 2 },
            { q: "ì´ì•¼ê¸°ì˜ ë§ˆì§€ë§‰ì— \"ì§€í•˜ì— ì‚´ê³  ìˆì–´ìš”!\"ë¼ê³  ë§í•˜ë©° ìƒˆë¡­ê²Œ ë‚˜íƒ€ë‚œ ì´ì›ƒì€ ëˆ„êµ¬ì¸ê°€ìš”?", a: [ "ìƒì¥", "ë‘ë”ì§€", "ì§€ë ì´", "ê°œë¯¸" ], c: 1 }
        ];

        let userAnswers = Array(10).fill(null);

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const targetPage = document.getElementById(pageId);
            targetPage.classList.add('active');
            if(pageId === 'page-quiz') {
                targetPage.style.display = 'block';
                renderQuiz();
            } else if(pageId === 'page-cover' || pageId === 'page-success') {
                targetPage.style.display = 'flex';
            } else {
                targetPage.style.display = 'flex';
            }
            window.scrollTo(0,0);
        }

        function renderQuiz() {
            const container = document.getElementById('quiz-list');
            container.innerHTML = quizData.map((data, idx) => `
                <div class="question-item">
                    <div class="question-text">${idx + 1}. ${data.q}</div>
                    <ul class="options">
                        ${data.a.map((opt, i) => `
                            <li class="${userAnswers[idx] === i ? 'selected' : ''}" onclick="selectAnswer(${idx}, ${i})">
                                ${i + 1}. ${opt}
                            </li>
                        `).join('')}
                    </ul>
                </div>
            `).join('');
        }

        function selectAnswer(qIdx, aIdx) {
            userAnswers[qIdx] = aIdx;
            renderQuiz();
        }

        // ê²€í†  ë²„íŠ¼ í´ë¦­ ì‹œ ë§¨ ìœ„ë¡œ ì´ë™
        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function gradeQuiz() {
            if(userAnswers.includes(null)) {
                alert("ì•„ì§ í’€ì§€ ì•Šì€ ë¬¸ì œê°€ ìˆì–´ìš”! ëª¨ë“  ë¬¸ì œì˜ ë‹µì„ ê³¨ë¼ì£¼ì„¸ìš”.");
                return;
            }
            showPage('page-result');
            renderResult();
        }

        function renderResult() {
            const statusContainer = document.getElementById('result-status');
            let correctCount = 0;
            
            statusContainer.innerHTML = userAnswers.map((ans, idx) => {
                const isCorrect = ans === quizData[idx].c;
                if(isCorrect) correctCount++;
                return `
                    <div class="result-item" onclick="openReview(${idx})">
                        <span>${idx + 1}ë²ˆ ë¬¸ì œ</span>
                        ${isCorrect ? '<div class="icon-correct"></div>' : '<div class="icon-wrong">ğŸ’¡</div>'}
                    </div>
                `;
            }).join('');

            if(correctCount === 10) {
                setTimeout(() => {
                    showPage('page-success');
                }, 600);
            }
        }

        function openReview(idx) {
            const data = quizData[idx];
            const modalBody = document.getElementById('modal-body');
            modalBody.innerHTML = `
                <div class="question-text">${idx + 1}. ${data.q}</div>
                <ul class="options">
                    ${data.a.map((opt, i) => `
                        <li class="${userAnswers[idx] === i ? 'selected' : ''}" onclick="selectModalAnswer(${idx}, ${i})">
                            ${i + 1}. ${opt}
                        </li>
                    `).join('')}
                </ul>
            `;
            document.getElementById('review-modal').style.display = 'flex';
        }

        function selectModalAnswer(qIdx, aIdx) {
            userAnswers[qIdx] = aIdx;
            const options = document.querySelectorAll('#modal-body li');
            options.forEach((li, i) => li.className = (i === aIdx) ? 'selected' : '');
        }

        function closeModal() {
            document.getElementById('review-modal').style.display = 'none';
            renderResult();
        }
    </script>
</body>
</html>