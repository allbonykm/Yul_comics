<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ìœ¨ì´ì˜ ìˆ˜í•™ì—¬í–‰ : ê³±ì…ˆì€ ì™œ í•˜ëŠ”ê±°ì•¼?</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #fff7ed; overflow: hidden; touch-action: manipulation; }
        .font-comic { font-family: 'Jua', sans-serif; }
        @keyframes float { 0% { transform: translateY(0px) rotate(0deg); } 50% { transform: translateY(-5px) rotate(5deg); } 100% { transform: translateY(0px) rotate(0deg); } }
        .btn-theme { animation: float 2.5s infinite ease-in-out; cursor: pointer; transition: all 0.2s; }
        .btn-theme:active { transform: scale(0.9); }
        .text-box { background-color: rgba(255, 255, 255, 0.98); border-radius: 20px 20px 0 0; box-shadow: 0 -4px 15px rgba(0,0,0,0.1); }
        .img-container { width: 100%; height: 100%; background-color: #fef3c7; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative; }
        .img-cover { width: 100%; height: 100%; object-fit: cover; }
        .img-fit { width: 100%; height: 100%; object-fit: contain; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* í…ìŠ¤íŠ¸ ë™ì  íš¨ê³¼ */
        @keyframes text-pop { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.08); text-shadow: 0 0 5px rgba(251, 146, 60, 0.3); } }
        .animate-pop { display: inline-block; animation: text-pop 2s infinite ease-in-out; }
        @keyframes text-shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-1px); } 75% { transform: translateX(1px); } }
        .animate-shake { display: inline-block; animation: text-shake 0.4s infinite; }
        @keyframes text-focus { from { filter: blur(3px); opacity: 0; } to { filter: blur(0); opacity: 1; } }
        .animate-focus { animation: text-focus 0.8s ease-out forwards; }

        .char-baekhap { color: #15803d; font-weight: 700; } 
        .char-joyul { color: #0ea5e9; font-weight: 700; }    
        
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        .back-button {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 50px; height: 50px; background: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 24px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            border: 2px solid #fdba74; z-index: 50; text-decoration: none;
            transition: transform 0.2s;
        }
        .back-button:active { transform: translateX(-50%) scale(0.9); }
    </style>
</head>
<body class="h-screen w-screen flex flex-col justify-center items-center">
    <div id="app" class="w-full h-full max-w-md bg-white relative shadow-2xl overflow-hidden flex flex-col border-x border-orange-100"></div>
    <a href="index.html" class="back-button">ğŸ </a>

    <script>
        const THEME_EMOJI = "ğŸ§®";

        const storyData = [
            {
                type: 'cover',
                image: 'images/math0.jpg',
                title: 'ìœ¨ì´ì˜ ì—¬í–‰ì‹œë¦¬ì¦ˆ: [í•™ìŠµë§Œí™”] ìœ¨ì´ì˜ ìˆ˜í•™ì—¬í–‰ : ê³±ì…ˆì€ ì™œ í•˜ëŠ”ê±°ì•¼?'
            },
            {
                type: 'story',
                image: 'images/math1.jpg',
                title: 'ë“±ì¥ì¸ë¬¼',
                content: `
                    <p class="mb-2"><span class="char-joyul">ğŸ‘§ğŸ» ì¡°ìœ¨ (ì²­ê³¡ì´ˆ 1):</span> ê¶ê¸ˆí•œ ê±´ ëª» ì°¸ëŠ” ì²­ê³¡ì´ˆì˜ <span class="animate-pop text-blue-500">í˜¸ê¸°ì‹¬ ëŒ€ì¥</span>. í•˜ë‚˜í•˜ë‚˜ ì„¸ëŠ” ê±¸ ì¢‹ì•„í•˜ì§€ë§Œ ê¸ˆë°© ì§€ì¹˜ê³¤ í•œë‹¤.</p>
                    <p><span class="char-baekhap">ğŸ¥‹ ê¹€ë‹¤ì˜¨ (ì²­ê³¡ì´ˆ 2):</span> ìœ¨ì´ì˜ ì•„íŒŒíŠ¸ ì˜†ì§‘ ì–¸ë‹ˆ. ë™ìƒë“¤ì—ê²Œ ê°€ë¥´ì³ì¤„ ë•Œ ê°€ì¥ ë¿Œë“¯í•´í•˜ëŠ” <span class="animate-shake text-green-700 font-bold">'ì—´ì • ì„ ìƒë‹˜'</span>.</p>
                `
            },
            {
                type: 'story',
                image: 'images/math2.jpg',
                title: "1ì¥. ë§ì…ˆë³´ë‹¤ ë¹ ë¥¸ ë§ˆë²•?",
                sub: "ì •ê¶Œ ì§€ë¥´ê¸° ë§ˆë²•",
                content: `
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "í•˜ë‚˜... ë‘˜... ì…‹... ì•„ìœ , ì´ ì˜ˆìœ ëŒë©©ì´ê°€ ì „ë¶€ ëª‡ ê°œì¸ì§€ ë‹¤ ë”í•˜ë ¤ë©´ <span class="animate-shake">í•´ê°€ ì§€ê² ì–´!</span>"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> (ê¸°í•© ì†Œë¦¬ì™€ í•¨ê»˜ ë“±ì¥) <span class="animate-pop text-red-600 font-black">"ì–!"</span> ìœ¨ì•„, ì—¬ê¸°ì„œ ë­ í•˜ê³  ìˆì–´? ë³´ì„ì´ ì •ë§ ë§ë„¤!"</p>
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "ë‹¤ì˜¨ ì–¸ë‹ˆ! íƒœê¶Œë„ ë‹¤ë…€ì˜¤ëŠ” ê¸¸ì´ì—ìš”? ì´ê±° ì–¸ì œ ë‹¤ ë”í•˜ë‚˜ í•´ì„œìš”. ë„ˆë¬´ í˜ë“¤ì–´ìš”."</p>
                    <p><span class="char-baekhap">ë‹¤ì˜¨:</span> (ë“¬ì§í•˜ê²Œ ì›ƒìœ¼ë©°) "ì´ëŸ´ ë• ë”í•˜ê¸°ë³´ë‹¤ <span class="animate-focus text-orange-600 font-bold">ë°± ë°°ëŠ” ë¹ ë¥¸ ê³±ì…ˆ ë§ˆë²•</span>ì„ ì¨ì•¼ì§€. ì–¸ë‹ˆê°€ ì˜¤ëŠ˜ íŠ¹ë³„íˆ ì „ìˆ˜í•´ì£¼ë§ˆ!"</p>
                `
            },
            {
                type: 'story',
                image: 'images/math3.jpg',
                title: "2ì¥. 4000ë…„ ì „ì˜ ë¹„ë°€",
                sub: "ì§„í™íŒì—ì„œ ì‹œì‘ëœ ì§€í˜œ",
                content: `
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "ì‚¬ì‹¤ ê³±ì…ˆì€ ì•„ì£¼ ì˜›ë‚ , <span class="animate-pop text-blue-600 font-bold">4000ë…„ ì „</span> ë°”ë¹Œë¡œë‹ˆì•„ ì‚¬ëŒë“¤ì´ ë¨¼ì € ì‹œì‘í–ˆëŒ€."</p>
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "ìš°ì™€, 4000ë…„ ì „ìš”? ì¢…ì´ë„ ì—†ì—ˆì„ í…ë° ì–´ë–»ê²Œ ì¼ì–´ìš”?"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "ë”±ë”±í•œ <span class="bg-yellow-100">ì§„í™íŒ(ì í† íŒ)</span>ì— ìˆ«ìë¥¼ ìƒˆê²¼ì§€. ì–‘ ë–¼ë¥¼ ì„¸ëŠ” ê²Œ ë„ˆë¬´ ëŠë ¤ì„œ ê³ ë¯¼ì´ì—ˆê±°ë“ !"</p>
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "ì•„í•˜! ì–‘ë“¤ì€ ê³„ì† ì›€ì§ì´ë‹ˆê¹Œ <span class="animate-shake text-orange-600 font-bold">'í•œëˆˆì— ë¬¶ì–´ì„œ'</span> ì„¸ëŠ” ê²Œ í•„ìš”í–ˆê² ë„¤ìš”!"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "ì •ë‹µ! ì´ê²Œ ë°”ë¡œ ìƒì¸ë“¤ì˜ <span class="animate-pop">í•„ì‚´ê¸°</span>ì˜€ì§€. ê·¸ë¦¬ê³  ì´ <span class="font-black">x</span> ëª¨ì–‘ì€ ì˜¤íŠ¸ë ˆë“œ ì„ ìƒë‹˜ì´ ë„ë³µ ë ë¥¼ ë¬¶ëŠ” ê²ƒì²˜ëŸ¼ <span class="underline">êµì°¨</span>ì‹œí‚¨ë‹¤ëŠ” ëœ»ìœ¼ë¡œ ë§Œë“œì‹  ê±°ì•¼!"</p>
                `
            },
            {
                type: 'story',
                image: 'images/math4.jpg',
                title: "3ì¥. ìš°ë¦¬ ë™ë„¤ ê³±ì…ˆ íƒí—˜",
                sub: "ì•„ì´ìŠ¤í¬ë¦¼ & ì•„íŠ¸ë°•ìŠ¤",
                content: `
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "500ì›ì§œë¦¬ ì•„ì´ìŠ¤í¬ë¦¼ì„ 3ê°œ ì‚´ ê±°ì•¼. ìœ¨ì•„, ê³„ì‚°í•´ë´!"</p>
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "ìŒ... 500 + 500 + 500ì´ë‹ˆê¹Œ... <span class="animate-focus text-blue-600 font-bold">1500ì›!</span>"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "ì¢‹ì•˜ì–´! í•˜ì§€ë§Œ ê³±ì…ˆ ë§ˆë²•ì„ ì“°ë©´ <span class="animate-pop text-red-500 font-black">500 x 3</span>ìœ¼ë¡œ í•œ ë²ˆì— ë!"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "ì´ë²ˆì—” ì•„íŠ¸ë°•ìŠ¤! ì´ ìŠ¤í‹°ì»¤ ë´‰íˆ¬ì—ëŠ” ìŠ¤í‹°ì»¤ê°€ 2ì¥ì”© ë“¤ì–´ìˆë„¤? 4ë´‰ì§€ë¥¼ ì‚¬ë©´?"</p>
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "2ì¥ì”© 4ë¬¶ìŒì´ë‹ˆê¹Œ... <span class="animate-focus">2 x 4 = 8</span>! ìš°ì™€, 8ì¥ì´ë‹¤!"</p>
                `
            },
            {
                type: 'story',
                image: 'images/math5.jpg',
                title: "4ì¥. ì„¸ìƒì—ì„œ ì œì¼ ì‰¬ìš´ 10ë‹¨ ë§ˆë²•!",
                sub: "íƒœê¶Œë„ ê²€ì€ë ê¸‰ í•„ì‚´ê¸°",
                content: `
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "10ì— ì–´ë–¤ ìˆ˜ë¥¼ ê³±í•˜ë©´, ê·¸ ìˆ˜ ë’¤ì— <span class="animate-pop text-2xl font-black text-red-600">ìˆ«ì '0'</span>ë§Œ ì°°ë–¡ê°™ì´ ë¶™ì—¬ì£¼ë©´ ëì´ì•¼!"</p>
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "10ë‹¨ìš”? ìˆ«ìê°€ ë„ˆë¬´ ì»¤ì„œ ì–´ë ¤ì›Œìš”!"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "10 x 1 = 10, 10 x 2 = 20! ê·¸ëŸ¼ 10 x 5ëŠ”?"</p>
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "ì–´? ì„¤ë§ˆ... 5 ë’¤ì— 0ì„ ë¶™ì—¬ì„œ <span class="animate-shake text-blue-600 font-black">50</span>ì¸ê°€ìš”?"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "í›Œë¥­í•´! ê·¸ëŸ¼ ìµœê³  ë‚œì´ë„, 10 x 10ì€?"</p>
                    <p><span class="char-joyul">ìœ¨:</span> "10 ë’¤ì— 0ì„ í•˜ë‚˜ ë” ë¶™ì´ë‹ˆê¹Œ... <span class="animate-pop text-orange-600 font-black">100!</span> ë‚˜ ë°©ê¸ˆ 100ê¹Œì§€ ê³±í•˜ê¸° í–ˆì–´ìš”!"</p>
                `
            },
            {
                type: 'story',
                image: 'images/math6.jpg',
                title: "5ì¥. ê³±ì…ˆ ë§ˆë²•ì‚¬ ì¡°ìœ¨!",
                sub: "ëª¨í—˜ ì™„ë£Œ",
                content: `
                    <p class="mb-1"><span class="char-joyul">ìœ¨:</span> "ì–¸ë‹ˆ, ê³±ì…ˆì€ ë”í•˜ê¸°ë¥¼ ê·€ì°®ì•„í•˜ë˜ ì˜›ë‚  ì‚¬ëŒë“¤ì´ ë§Œë“  <span class="animate-focus text-pink-500 font-bold">ë©‹ì§„ ì„ ë¬¼</span>ì´ì—ˆë„¤ìš”!"</p>
                    <p class="mb-1"><span class="char-baekhap">ë‹¤ì˜¨:</span> "ë§ì•„. ì´ì œ ìœ¨ì´ë„ ê³±ì…ˆ ë§ˆë²•ì‚¬ë‹ˆê¹Œ, ê°€ê²Œ ê°€ë©´ ì–¸ë‹ˆë³´ë‹¤ ë” ë¹¨ë¦¬ ê³„ì‚°í•˜ê² ëŠ”ë°?"</p>
                    <p><span class="char-joyul">ìœ¨:</span> "í—¤í—¤, ì´ì œ í•˜ë‚˜ì”© ì•ˆ ì„¸ê³  <span class="animate-shake text-blue-500 font-bold">ë¬¶ì–´ì„œ ê³±í•´ë²„ë¦´ë˜ìš”!</span> ë‹¤ì˜¨ ì–¸ë‹ˆ, ê³ ë§ˆì›Œìš”!"</p>
                `
            },
            {
                type: 'quiz_intro',
                image: 'images/math7.jpg',
                title: 'ì‹¤ë ¥ í™•ì¸ í€´ì¦ˆ!',
                content: '<p class="text-center animate-shake">ë‹¤ì˜¨ì´ê°€ ë‚´ëŠ” í€´ì¦ˆë¥¼ í’€ê³ <br><span class="text-orange-600 font-bold">ì§„ì •í•œ ê³±ì…ˆ ë§ˆë²•ì‚¬</span>ê°€ ë˜ì–´ë³´ì!</p>'
            },
            {
                type: 'ending',
                image: 'images/math8.jpg'
            }
        ];

        const quizData = [
            { question: "ê³±ì…ˆì€ ì•„ì£¼ ì˜›ë‚  ì‚¬ëŒë“¤ì´ ë”í•˜ê¸°ê°€ ê·€ì°®ì•„ì„œ ë§Œë“  ì§€ë¦„ê¸¸ì´ë‹¤.", answer: true, explanation: "ë˜‘ê°™ì€ ìˆ«ìë¥¼ ì—¬ëŸ¬ ë²ˆ ë”í•˜ê¸° í˜ë“¤ ë•Œ ë§Œë“  ë˜‘ë˜‘í•œ ë°©ë²•ì´ì•¼!" },
            { question: "ê³±ì…ˆ ê¸°í˜¸ âœ–ï¸ëŠ” 1600ë…„ëŒ€ì— ì˜¤íŠ¸ë ˆë“œê°€ ì²˜ìŒ ì‚¬ìš©í–ˆë‹¤.", answer: true, explanation: "ë„ë³µ ë ë¥¼ ë¬¶ëŠ” ëª¨ì–‘ì²˜ëŸ¼ âœ–ï¸ ê¸°í˜¸ë¥¼ ì²˜ìŒ ì“°ê¸° ì‹œì‘í–ˆë‹¨ë‹¤." },
            { question: "ë¬¼ê±´ì„ ë§ì´ ì‚´ ë•ŒëŠ” ê³±ì…ˆë³´ë‹¤ í•˜ë‚˜ì”© ë”í•˜ëŠ” ê²ƒì´ í•­ìƒ ë” ë¹ ë¥´ë‹¤.", answer: false, explanation: "ê°œìˆ˜ê°€ ë§ì•„ì§ˆìˆ˜ë¡ ê³±ì…ˆì´ í›¨ì”¬ ë¹ ë¥´ê³  ì •í™•í•˜ë‹¨ë‹¤!" },
            { question: "10 x 9ë¥¼ ê³„ì‚°í•˜ë©´ 9 ë’¤ì— 0ì„ ë¶™ì¸ 90ì´ ì •ë‹µì´ë‹¤.", answer: true, explanation: "10ë‹¨ ë§ˆë²•ì˜ í•µì‹¬ì€ ìˆ«ì ë’¤ì— 0ì„ ì°°ë–¡ê°™ì´ ë¶™ì´ëŠ” ê±°ì•¼!" },
            { question: "2 x 3ì˜ ì •ë‹µì€ 2ë¥¼ ì„¸ ë²ˆ ë”í•œ ê°’ì¸ 6ì´ë‹¤.", answer: true, explanation: "2 x 3ì€ '2ë¥¼ 3ë²ˆ ë”í•´ë¼'ë¼ëŠ” ëœ»ì´ì§€!" }
        ];

        let currentState = { pageIndex: 0, quizIndex: 0, quizStatus: 'question', lastAnswer: null };
        const app = document.getElementById('app');

        function render() {
            app.innerHTML = ''; 
            if (currentState.pageIndex < storyData.length) {
                const page = storyData[currentState.pageIndex];
                if (page.type === 'cover') renderCover(page);
                else if (page.type === 'ending') renderEnding(page);
                else renderStoryPage(page, page.type === 'quiz_intro');
            } else {
                renderQuiz();
            }
        }

        function renderCover(data) {
            const div = document.createElement('div');
            div.className = "w-full h-full relative cursor-pointer fade-in";
            div.onclick = nextPage;
            div.innerHTML = `<div class="img-container"><img src="${data.image}" class="img-cover" onerror="this.parentElement.innerHTML='<div class=\\'p-10 text-center font-comic text-orange-800\\'><h1 class=\\'text-2xl mb-4\\'>${data.title}</h1><p>ì´ë¯¸ì§€ ì¤€ë¹„ì¤‘</p></div>'"></div><div class="absolute bottom-20 w-full text-center"><div class="inline-block bg-black/40 backdrop-blur-sm text-white font-comic animate-pulse text-lg px-6 py-3 rounded-full border border-white/30">íƒ­í•˜ì—¬ ì‹œì‘í•˜ê¸°</div></div>`;
            app.appendChild(div);
        }

        function renderEnding(data) {
            const div = document.createElement('div');
            div.className = "w-full h-full relative cursor-pointer fade-in";
            div.onclick = restart;
            div.innerHTML = `<div class="img-container"><img src="${data.image}" class="img-cover" onerror="this.parentElement.innerHTML='<div class=\\'flex flex-col items-center justify-center h-full text-gray-500 font-comic\\'><h1 class=\\'text-4xl mb-4\\'>FIN</h1><p>ìˆ˜í•™ ì—¬í–‰ ì™„ë£Œ!</p></div>'"></div><div class="absolute bottom-20 w-full text-center"><div class="inline-block bg-black/40 backdrop-blur-sm text-white font-comic animate-pulse text-lg px-6 py-3 rounded-full border border-white/30">ğŸ‰ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°</div></div>`;
            app.appendChild(div);
        }

        function renderStoryPage(data, isQuizIntro) {
            const div = document.createElement('div');
            div.className = "w-full h-full flex flex-col bg-white fade-in";
            // ì´ë¯¸ì§€ 65%, í…ìŠ¤íŠ¸ 35% ë¹„ìœ¨ ì ìš©
            const imgHtml = `<div class="h-[65%] img-container relative border-b-2 border-orange-100"><img src="${data.image}" class="img-fit" onerror="this.parentElement.innerHTML='<div class=\\'text-gray-400 font-bold\\'>IMAGE</div>'"></div>`;
            const textHtml = `<div class="h-[35%] flex flex-col relative bg-[#fff7ed] shadow-inner"><div class="flex-1 p-5 overflow-y-auto no-scrollbar text-box -mt-5 z-10 border-t border-orange-50"><h2 class="font-comic text-lg text-orange-600 mb-1">${data.title || ''}</h2>${data.sub ? `<span class="text-[10px] bg-orange-100 px-2 py-0.5 rounded text-orange-600 font-bold">ğŸ·ï¸ ${data.sub}</span>` : ''}<div class="mt-2 text-[20px] leading-relaxed font-medium text-gray-800 space-y-1">${data.content}</div></div><div class="h-16 bg-[#fff7ed] flex justify-between items-center px-6 border-t border-orange-200 pb-1"><div onclick="prevPage()" class="flex flex-col items-center cursor-pointer text-orange-300 transition text-xs font-bold"><span>âª</span>ì´ì „</div>${isQuizIntro ? `<div onclick="startQuiz()" class="btn-theme flex flex-col items-center text-green-600"><div class="w-10 h-10 bg-green-500 rounded-full flex items-center justify-center text-white font-bold shadow-md border-2 border-green-200">?</div><span class="text-[10px] mt-1">í€´ì¦ˆ!</span></div>` : `<div onclick="nextPage()" class="btn-theme flex flex-col items-center text-orange-500"><span class="text-3xl">${THEME_EMOJI}</span><span class="text-[10px] font-bold mt-1">ë‹¤ìŒ</span></div>`}</div></div>`;
            div.innerHTML = imgHtml + textHtml;
            app.appendChild(div);
        }

        function renderQuiz() {
            if (currentState.quizIndex >= quizData.length) { currentState.pageIndex = storyData.length - 1; render(); return; }
            const currentQ = quizData[currentState.quizIndex];
            const div = document.createElement('div');
            div.className = "w-full h-full flex flex-col bg-orange-50 fade-in";
            if (currentState.quizStatus === 'question') {
                div.innerHTML = `<div class="flex-1 flex flex-col items-center justify-center p-6 text-center"><span class="text-green-600 font-bold text-sm mb-4 bg-green-100 px-4 py-1 rounded-full border border-green-200">ë¬¸ì œ ${currentState.quizIndex + 1} / 5</span><div class="bg-white p-6 rounded-2xl shadow-lg w-full mb-8 border-2 border-orange-100"><p class="text-xl font-bold break-keep text-gray-800 leading-normal">${currentQ.question}</p></div><div class="flex gap-4"><button onclick="checkAnswer(true)" class="w-20 h-20 bg-blue-500 rounded-full text-white text-4xl font-black shadow-md active:translate-y-1 border-4 border-blue-400">O</button><button onclick="checkAnswer(false)" class="w-20 h-20 bg-red-500 rounded-full text-white text-4xl font-black shadow-md active:translate-y-1 border-4 border-red-400">X</button></div></div>`;
            } else if (currentState.quizStatus === 'result') {
                const isCorrect = currentState.lastAnswer === currentQ.answer;
                div.innerHTML = `<div class="w-full h-full ${isCorrect ? 'bg-green-500' : 'bg-orange-400'} flex flex-col items-center justify-center text-white cursor-pointer" onclick="showExplanation()"><div class="text-7xl mb-4 animate-bounce">${isCorrect ? 'ğŸ‰' : 'ğŸ¤”'}</div><h2 class="text-4xl font-comic mb-2">${isCorrect ? 'ì •ë‹µ!' : 'í‹€ë ¸ì–´!'}</h2><p class="animate-pulse text-sm opacity-90">íƒ­í•˜ì—¬ í•´ì„¤ ë³´ê¸°</p></div>`;
            } else if (currentState.quizStatus === 'explanation') {
                div.innerHTML = `<div class="flex-1 flex flex-col p-6 bg-white cursor-pointer" onclick="nextQuizStep()"><div class="flex-1 flex flex-col justify-center items-center"><h3 class="text-xl font-comic text-green-700 mb-4">ğŸ¥‹ ë‹¤ì˜¨ ì–¸ë‹ˆì˜ í•´ì„¤</h3><div class="bg-green-50 p-5 rounded-xl border border-green-200 shadow-sm w-full"><p class="text-lg font-medium text-gray-800 leading-relaxed">"${currentQ.explanation}"</p></div></div><div class="h-20 flex items-center justify-center"><div class="btn-theme flex flex-col items-center"><span class="text-4xl">${THEME_EMOJI}</span><span class="text-xs font-bold text-orange-600 mt-1">${currentState.quizIndex === quizData.length - 1 ? "ê²°ê³¼ ë³´ê¸°" : "ë‹¤ìŒ ë¬¸ì œ"}</span></div></div></div>`;
            }
            app.appendChild(div);
        }

        function nextPage() { if (currentState.pageIndex < storyData.length) { currentState.pageIndex++; render(); }}
        function prevPage() { if (currentState.pageIndex > 0) { currentState.pageIndex--; render(); }}
        function startQuiz() { currentState.pageIndex = storyData.length; currentState.quizIndex = 0; currentState.quizStatus = 'question'; render(); }
        function checkAnswer(ans) { currentState.lastAnswer = ans; currentState.quizStatus = 'result'; render(); }
        function showExplanation() { currentState.quizStatus = 'explanation'; render(); }
        function nextQuizStep() { currentState.quizIndex++; currentState.quizStatus = 'question'; render(); }
        function restart() { currentState.pageIndex = 0; currentState.quizIndex = 0; render(); }
        render();
    </script>
</body>

</html>
