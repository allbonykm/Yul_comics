<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ìœ¨ì´ì˜ ìì•„ì—¬í–‰</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Jua&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #fff7ed; overflow: hidden; touch-action: manipulation; }
        .font-comic { font-family: 'Jua', sans-serif; }
        @keyframes float { 0% { transform: translateY(0px) rotate(0deg); } 50% { transform: translateY(-5px) rotate(5deg); } 100% { transform: translateY(0px) rotate(0deg); } }
        .btn-theme { animation: float 2.5s infinite ease-in-out; cursor: pointer; transition: all 0.2s; }
        .btn-theme:active { transform: scale(0.9); }
        .text-box { background-color: rgba(255, 255, 255, 0.98); border-radius: 20px 20px 0 0; box-shadow: 0 -4px 15px rgba(0,0,0,0.1); }
        .img-container { width: 100%; height: 100%; background-color: #fef3c7; display: flex; align-items: center; justify-content: center; overflow: hidden; position: relative; }
        .img-cover { width: 100%; height: 100%; object-fit: cover; }
        .img-fit { width: 100%; height: 100%; object-fit: contain; }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* ìºë¦­í„° ìƒ‰ìƒ ì§€ì • */
        .char-baekhap { color: #15803d; font-weight: 700; } /* green-700 */
        .char-joyul { color: #0ea5e9; font-weight: 700; }    /* sky-500 */
        .char-toto { color: #ec4899; font-weight: 700; }     /* pink-500 */
        
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* í™ˆ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .back-button {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 50px; height: 50px; background: white; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 24px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            border: 2px solid #fdba74; z-index: 50; text-decoration: none;
            transition: transform 0.2s;
        }
        .back-button:active { transform: translateX(-50%) scale(0.9); }
    </style>
</head>
<body class="h-screen w-screen flex flex-col justify-center items-center">
    <div id="app" class="w-full h-full max-w-md bg-white relative shadow-2xl overflow-hidden flex flex-col border-x border-orange-100"></div>
    <a href="index.html" class="back-button">ğŸ </a>

    <script>
        // *** AI ë°ì´í„° ìƒì„± ì˜ì—­ ***
        // ì´ë¯¸ì§€ í‚¤ì›Œë“œ: loud
        // ë²ˆí˜¸ ê·œì¹™: loud0.jpg ë¶€í„° í˜ì´ì§€ ìˆœì„œëŒ€ë¡œ 1ì”© ì¦ê°€
        
        const storyData = [
            // 0. í‘œì§€ (loud0)
            {
                type: 'cover',
                image: 'images/loud0.jpg',
                title: 'ë°–ì—ì„œëŠ” ì–¼ìŒ!'
            },
            // 1. ë“±ì¥ì¸ë¬¼ (loud1)
            {
                type: 'story',
                image: 'images/loud1.jpg',
                title: 'ë“±ì¥ì¸ë¬¼ ì†Œê°œ',
                sub: 'ì¹œêµ¬ë“¤',
                content: `
                    <p class="mb-2"><span class="char-joyul">ì¡°ìœ¨</span> (8ì„¸, ì²­ê³¡ì´ˆ 1í•™ë…„ 5ë°˜): ì§‘ì—ì„œëŠ” ì—ë„ˆì§€ê°€ ë„˜ì¹˜ì§€ë§Œ ë°–ì—ì„œëŠ” ëª©ì†Œë¦¬ê°€ 'ìŒì†Œê±°' ë˜ëŠ” ì•„ì´.</p>
                    <p class="mb-2"><span class="char-toto">í† í† </span> (ì• ì°© í† ë¼ ì¸í˜•): ìœ¨ì´ì˜ ì‹¬ë¦¬ ì„ ìƒë‹˜ ì—­í• ì„ í•˜ëŠ” ìŠ¤ë§ˆíŠ¸í•œ í† ë¼.</p>
                    <p class="mb-2"><span class="char-baekhap">ë°±í•©</span> (ë°˜ë ¤ ë„ë§ˆë±€): ìœ¨ì´ê°€ ìš©ê¸°ë¥¼ ë‚¼ ë•Œ ê¼¬ë¦¬ì—ì„œ ë¹›ì„ ë°íˆëŠ” ì‹ ë¹„í•œ ë„ë§ˆë±€.</p>
                    <p class="mb-2"><b>ë„ì§„ì´ ì˜¤ë¹  & ë‹¤ì˜¨ì´ ì–¸ë‹ˆ</b> (9ì„¸): ë“¬ì§í•˜ê³  ë°ì€ ìœ¨ì´ì˜ ë™ë„¤ ì„ ë°°ë“¤.</p>
                `
            },
            // ì œ1ì¥ (loud2)
            {
                type: 'story',
                image: 'images/loud2.jpg',
                title: 'ì œ1ì¥: ë°–ì—ì„œëŠ” ì–¼ìŒ!',
                sub: 'í˜„ì‹¤ì˜ ë‘ ì–¼êµ´',
                content: `
                    <p class="mb-3"><span class="char-joyul">ìœ¨</span>: ì•„ë¹ ! ë‚˜ ë´ë´! ë‚´ê°€ ì œì¼ ë†’ì´ ì˜¬ë¼ì™”ì–´! ì•¼í˜¸!!</p>
                    <p class="mb-3"><b>ì•„ë¹ </b>: ìš°ë¦¬ ìœ¨ì´ ëª©ì†Œë¦¬ë„ í¬ê³  ì”©ì”©í•˜ë„¤! ì¡°ì‹¬í•´ì„œ ë‚´ë ¤ì™€!</p>
                    <p class="mb-6 text-gray-500 text-sm">í•´ì„¤: ë‚˜ëŠ” ì¡°ìœ¨. ì—„ë§ˆ ì•„ë¹ ë‘ ìˆì„ ë• ì„¸ìƒì—ì„œ ì œì¼ ì‹œë„ëŸ¬ìš´ ìˆ˜ë‹¤ìŸì´ë‹¤. í•˜ì§€ë§Œ...</p>
                    
                    <p class="mb-3"><b>ì„ ìƒë‹˜</b>: ìš°ë¦¬ 5ë°˜ ì¹œêµ¬ë“¤, ì •ë‹µ ì•„ëŠ” ì‚¬ëŒ ë°œí‘œí•´ ë³¼ê¹Œ?</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨(ì†ë§ˆìŒ)</span>: 'ì €ìš”! í•˜ê³  ì†ë“¤ê³  ì‹¶ì€ë°... íŒ”ì´ ë„ˆë¬´ ë¬´ê±°ì›Œ.'</p>
                    
                    <p><span class="char-joyul">ìœ¨(ì†ë§ˆìŒ)</span>: 'í‹€ë¦¬ë©´ ì°½í”¼í•˜ì–ì•„. ì• ë“¤ì´ ë‹¤ ì³ë‹¤ë³´ëŠ”ë°...'</p>
                `
            },
            // ì œ2ì¥ (loud3)
            {
                type: 'story',
                image: 'images/loud3.jpg',
                title: 'ì œ2ì¥: ëª©ì†Œë¦¬ê°€ ì•ˆ ë‚˜ì™€',
                sub: 'ì¢Œì ˆ',
                content: `
                    <p class="mb-3"><b>ì„ ìƒë‹˜</b>: ì¡°ì‹¬íˆ ë“¤ì–´ê°€ë ´! ì•ˆë…•!</p>
                    <p class="mb-3"><span class="char-joyul">ìœ¨</span>: ......</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨(ì†ë§ˆìŒ)</span>: 'ì•ˆë…•í•˜ì„¸ìš”! ë¼ê³  í¬ê²Œ ë§í•˜ê³  ì‹¶ì€ë° ì™œ ëª©ì†Œë¦¬ê°€ ì•ˆ ë‚˜ì˜¤ì§€?'</p>

                    <p class="mb-3"><b>ì¹œêµ¬ ì—„ë§ˆ</b>: ì–´ë¨¸, ìœ¨ì´ë„¤? ì•ˆë…•? ìœ¨ì•„?</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨(ì†ë§ˆìŒ)</span>: 'ì•„ëŠ” ì‚¬ëŒì´ë‹¤! ë¬´ì„œì›Œ, ë„ë§ê°€ê³  ì‹¶ì–´. ì—„ë§ˆ ë’¤ì— ìˆ¨ì„ë˜.'</p>

                    <p><span class="char-joyul">ìœ¨</span>: í† í† ì•¼, ì§‘ì—ì„œëŠ” ì˜í•˜ëŠ”ë°... ì™œ ë°–ì—ë§Œ ë‚˜ê°€ë©´ ë²™ì–´ë¦¬ê°€ ë ê¹Œ? ë‚˜ë„ ì¹œêµ¬í•œí…Œ ë°˜ê°‘ê²Œ ì¸ì‚¬í•˜ê³  ì‹¶ì€ë°.</p>
                `
            },
            // ì œ3ì¥ (loud4)
            {
                type: 'story',
                image: 'images/loud4.jpg',
                title: 'ì œ3ì¥: ì´ìƒí•œ ë‚˜ë¼ë¡œ ì¶œë°œ',
                sub: 'ë§ˆë²•ì˜ ì‹œì‘',
                content: `
                    <p class="mb-3"><span class="char-toto">í† í† </span>: ë°”ë³´ë¼ë‹ˆ! ìœ¨ì´ëŠ” ëª©ì†Œë¦¬ë¥¼ ìƒì–´ë²„ë¦° ê²Œ ì•„ë‹ˆë¼, 'ìš©ê¸° ìŠ¤ìœ„ì¹˜'ë¥¼ ì¼œëŠ” ë²•ì„ ì ê¹ ê¹Œë¨¹ì€ ê²ƒë¿ì´ì•¼!</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨</span>: ìœ¼ì•…! ì¸í˜•ì´ ë§ì„ í•´?!</p>

                    <p class="mb-3"><span class="char-joyul">ìœ¨</span>: ì—¬ê¸´ ì–´ë””ì•¼? ë‹¤ë“¤ ì´ìƒí•´.</p>
                    <p class="mb-6"><span class="char-toto">í† í† </span>: ì—¬ê¸°ëŠ” 'ì—‰í„°ë¦¬ ë§ˆë²•í•™êµ'ì•¼. ì´ê³³ì˜ ê·œì¹™ì€ ë‹¨ í•˜ë‚˜! <b>'í‹€ë¦´ìˆ˜ë¡ ë°•ìˆ˜ë°›ëŠ”ë‹¤'</b>ì§€.</p>

                    <p class="mb-3"><b>ì•„ê¸° ë§ˆë²•ì‚¬</b>: ì•„ì´ì¿ , ë˜ í‹€ë ¸ë‹¤.</p>
                    <p class="mb-3"><b>ì¹œêµ¬ë“¤</b>: ìš°ì™€! ë¶ˆ ëŒ€ì‹  ë¬¼ì´ë¼ë‹ˆ! ë” ì‹œì›í•˜ê³  ì¢‹ì€ë°? ëŒ€ë‹¨í•œ ë°œê²¬ì´ì•¼!</p>
                    <p><span class="char-joyul">ìœ¨</span>: í‹€ë ¸ëŠ”ë°... ì¹­ì°¬ì„ ë°›ì•„?</p>
                `
            },
            // ì œ4ì¥ (loud5)
            {
                type: 'story',
                image: 'images/loud5.jpg',
                title: 'ì œ4ì¥: í‹€ë ¤ë„ ê´œì°®ì•„',
                sub: 'ì‘ì€ ë„ì „',
                content: `
                    <p class="mb-3"><span class="char-toto">í† í† </span>: ì, ë”°ë¼ í•´ ë´. 1 ë”í•˜ê¸° 1ì€ 5!</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨</span>: ì¼... ë”í•˜ê¸° ì¼ì€... ì˜¤...?</p>

                    <p><span class="char-toto">í† í† </span>: ì˜í–ˆì–´! í‹€ë ¸ì§€ë§Œ, ë„¤ê°€ ì…ì„ ì—´ì—ˆê¸° ë•Œë¬¸ì— ë§ˆë²•ì´ ì¼ì–´ë‚œ ê±°ì•¼. ê²°ê³¼ë³´ë‹¤ 'ì‹œë„'ê°€ ë§ˆë²•ì˜ ì—´ì‡ ë€ë‹¤.</p>
                `
            },
            // ì œ5ì¥ (loud6)
            {
                type: 'story',
                image: 'images/loud6.jpg',
                title: 'ì œ5ì¥: ë©”ì•„ë¦¬ ë™êµ´',
                sub: 'ì ì§„ì  ë…¸ì¶œ',
                content: `
                    <p class="mb-3"><b>ë¶€ì—‰ì´</b>: ì´ ë¬¸ì„ ì§€ë‚˜ê°€ë ¤ë©´ ì•”í˜¸ë¥¼ ëŒ€ì•¼ í•œë‹¤. ì•„ì£¼ í° ì†Œë¦¬ë¡œ!</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨</span>: ëª» í•˜ê² ì–´. ëª©ì†Œë¦¬ê°€ í„± ë§‰í˜€.</p>

                    <p class="mb-3"><span class="char-toto">í† í† </span>: ê°œë¯¸ ëª©ì†Œë¦¬ë¶€í„° ì‹œì‘í•´ ë³¼ê¹Œ? 'ì•„'ë¼ê³ ë§Œ í•´ë´.</p>
                    <p class="mb-3"><span class="char-joyul">ìœ¨</span>: ...ì•„.</p>
                    <p class="mb-6"><span class="char-toto">í† í† </span>: ë´! ë“¤ì—ˆì–´! ì´ë²ˆì—” ì¡°ê¸ˆë§Œ ë” í¬ê²Œ. ì°¸ìƒˆë§Œí¼.</p>

                    <p class="mb-3"><span class="char-joyul">ìœ¨</span>: ì•ˆë…•í•˜ì„¸ìš”!!</p>
                    <p class="mb-3"><b>ë¶€ì—‰ì´</b>: ì˜¤í˜¸, ì˜ˆì˜ ë°”ë¥¸ ì–´ë¦°ì´ë¡œêµ¬ë‚˜. ì§€ë‚˜ê°€ê±°ë¼.</p>
                    <p><span class="char-joyul">ìœ¨(ë…ë°±)</span>: 'ì–´ë¼? ë‚´ê°€ ë§í•´ë„ ì•„ë¬´ ì¼ë„ ì•ˆ ì¼ì–´ë‚˜ë„¤?'</p>
                `
            },
            // ì œ6ì¥ (loud7)
            {
                type: 'story',
                image: 'images/loud7.jpg',
                title: 'ì œ6ì¥: ì§ˆë¬¸ì˜ ë‹¤ë¦¬',
                sub: 'ì‹œì„ ì˜ ê³µí¬ ê·¹ë³µ',
                content: `
                    <p class="mb-3"><b>ì•ˆë‚´íŒ</b>: &lt;ëª¨ë¥´ëŠ” ê²ƒì„ ì§ˆë¬¸í•˜ë©´ ë‹¤ë¦¬ê°€ ìƒê¹ë‹ˆë‹¤.&gt;</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨</span>: ì§ˆë¬¸? ìˆ˜ì—… ì‹œê°„ì— ì§ˆë¬¸í•˜ë©´ ì• ë“¤ì´ 'ê·¸ê²ƒë„ ëª°ë¼?'ë¼ê³  í•  í…ë°...</p>

                    <p class="mb-3"><span class="char-toto">í† í† </span>: ì•ˆê²½ì„ ì“°ê³  ì¹œêµ¬ë“¤ì„ ë´ë´. ì‚¬ëŒë“¤ì€ ìƒê°ë³´ë‹¤ ë‚¨ì—ê²Œ ê´€ì‹¬ì´ ì—†ì–´.</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨</span>: ì§„ì§œë„¤? ì € ì›ìˆ­ì´ëŠ” ë°”ë‚˜ë‚˜ ìƒê°ë§Œ í•˜ê³  ìˆì–´.</p>

                    <p><span class="char-joyul">ìœ¨</span>: ì €ê¸°ìš”! ì´ ë‹¤ë¦¬ëŠ” ì–´ë–»ê²Œ ê±´ë„ˆë‚˜ìš”? ë„ì™€ì£¼ì„¸ìš”!</p>
		    <p class="mb-6"><span class="char-toto">í† í† </span>: ì˜í–ˆì–´ ìœ¨ì´ì•¼. ì •ë§ ì˜í–ˆì–´!</p>
                    <p class="mb-6"><b>ì‹œìŠ¤í…œ</b>: &lt;<ë¯¸ì…˜ ì„±ê³µ! ìš©ê¸°ì˜ ì¡°ê°ì„ íšë“í–ˆìŠµë‹ˆë‹¤.>&gt;</p>


                `
            },
            // ì œ7ì¥ (loud8)
            {
                type: 'story',
                image: 'images/loud8.jpg',
                title: 'ì œ7ì¥: ë‹¤ì‹œ êµì‹¤ë¡œ',
                sub: 'ìš©ê¸° ë‚´ê¸°',
                content: `
                    <p class="mb-3"><b>ì„ ìƒë‹˜</b>: ì, ì˜¤ëŠ˜ ìˆ˜ì—… ì‹œê°„ì—ëŠ” 'ë‚˜ì˜ ì¥ì 'ì— ëŒ€í•´ ë°œí‘œí•´ ë³¼ ê±°ì˜ˆìš”.</p>
                    <p class="mb-6"><span class="char-joyul">ìœ¨(ì†ë§ˆìŒ)</span>: 'í‹€ë ¤ë„ ê´œì°®ì•„. í•˜ëŠ” ê²Œ ì¤‘ìš”í•œ ê±°ì•¼.'</p>

                    <p class="mb-6"><span class="char-joyul">ìœ¨</span>: ì €... ì €ìš”!</p>

                    <p><span class="char-joyul">ìœ¨</span>: ì œ ì¥ì ì€... ì–´... ê·¸ë¦¼ ê·¸ë¦¬ê¸°ì…ë‹ˆë‹¤! ì €ëŠ” ê·¸ë¦¼ ê·¸ë¦¬ëŠ” ê±¸ ì¢‹ì•„í•©ë‹ˆë‹¤. ì´ìƒì…ë‹ˆë‹¤!</p>
                `
            },
            // ì œ8ì¥ (loud9)
            {
                type: 'story',
                image: 'images/loud9.jpg',
                title: 'ì œ8ì¥: ì”©ì”©í•œ ì¸ì‚¬',
                sub: 'Just do it!',
                content: `
                    <p class="mb-6"><span class="char-joyul">ìœ¨(ì†ë§ˆìŒ)</span>: 'ì–´! ë„ì§„ì´ ì˜¤ë¹ ë‘ ë‹¤ì˜¨ì´ ì–¸ë‹ˆë‹¤.'</p>

                    <p class="mb-3"><span class="char-joyul">ìœ¨</span>: ë„ì§„ì´ ì˜¤ë¹ !! ë‹¤ì˜¨ì´ ì–¸ë‹ˆ!! ì•ˆë…•!!</p>
                    <p class="mb-3"><b>ë‹¤ì˜¨</b>: ì–´? ìœ¨ì´ë‹¤! ìœ¨ì´, ì•ˆë…•? ëª©ì†Œë¦¬ ì—„ì²­ í¬ë„¤!</p>
                    <p class="mb-6"><b>ë„ì§„</b>: ìœ¨ì´ ì•ˆë…•! í•™êµ ë‹¤ë…€ì˜¤ë‹ˆ? ì”©ì”©í•´ì„œ ë³´ê¸° ì¢‹ë‹¤!</p>

                    <p><span class="char-joyul">ìœ¨</span>: ì—¬ì „íˆ ì‹¬ì¥ì€ ì½©ë‹¥ì½©ë‹¥ ë›°ì§€ë§Œ, ì´ì œ ë‚˜ëŠ” ì•ˆë‹¤. ë‚´ê°€ ë¨¼ì € ìš©ê¸° ë‚´ì–´ ë§í•˜ë©´, ì„¸ìƒë„ ë‚˜ì—ê²Œ ë°˜ê°‘ê²Œ ëŒ€ë‹µí•´ ì¤€ë‹¤ëŠ” ê²ƒì„.</p>
                `
            },
            // í€´ì¦ˆ ì¸íŠ¸ë¡œ (loud10)
            {
                type: 'quiz_intro',
                image: 'images/loud10.jpg',
                title: 'ì´ì•¼ê¸° ì†ìœ¼ë¡œ!',
                sub: 'í€´ì¦ˆ íƒ€ì„',
                content: 'ìœ¨ì´ê°€ ì–´ë–»ê²Œ ìš©ê¸°ë¥¼ ëƒˆëŠ”ì§€ ê¸°ì–µí•˜ë‚˜ìš”? í€´ì¦ˆë¥¼ í’€ê³  ì—¬í–‰ì„ ë©‹ì§€ê²Œ ë§ˆë¬´ë¦¬í•´ë´ìš”!'
            },
            // ì—”ë”© (loud11)
            {
                type: 'ending',
                image: 'images/loud11.jpg',
                title: 'ì—¬í–‰ ì™„ë£Œ',
            }
        ];

        const quizData = [
            {
                question: "í•™êµì—ì„œ ë°œí‘œí•  ë•Œ í‹€ë¦¬ë©´ ì°½í”¼í•œ ì¼ì´ë‹ˆê¹Œ, ì •ë‹µì„ ëª¨ë¥´ë©´ ì†ì„ ë“¤ì§€ ë§ì•„ì•¼ í• ê¹Œìš”?",
                answer: false,
                explanation: "í‹€ë ¤ë„ ê´œì°®ì•„! ì •ë‹µì„ ë§íˆëŠ” ê²ƒë³´ë‹¤ ìš©ê¸° ë‚´ì„œ 'ì €ìš”!' í•˜ê³  ì†ì„ ë“œëŠ” ê²Œ í›¨ì”¬ ë” ë©‹ì§„ ì¼ì´ì•¼."
            },
            {
                question: "ì¹œêµ¬ë“¤ì€ ë‚´ê°€ ë°œí‘œí•˜ë‹¤ê°€ ì‹¤ìˆ˜í•˜ë©´ ê·¸ ëª¨ìŠµì„ í‰ìƒ ê¸°ì–µí• ê¹Œìš”?",
                answer: false,
                explanation: "í† í† ê°€ ì¤€ ë§ˆë²• ì•ˆê²½ìœ¼ë¡œ ë³´ë‹ˆê¹Œ ì¹œêµ¬ë“¤ì€ ì ì‹¬ ë©”ë‰´ë‚˜ ë‹¤ë¥¸ ìƒê°ì„ í•˜ëŠë¼ ë‚´ ì‹¤ìˆ˜ë¥¼ ê¸ˆë°© ìŠì–´ë²„ë¦¬ë”ë¼ê³ . ê·¸ëŸ¬ë‹ˆê¹Œ ë„ˆë¬´ ê±±ì •í•˜ì§€ ë§ˆ!"
            },
            {
                question: "ëª©ì†Œë¦¬ê°€ ë–¨ë¦¬ê³  ì‘ì•„ë„ ë‚´ê°€ ë¨¼ì € ìš©ê¸° ë‚´ì„œ ì¸ì‚¬í•˜ëŠ” ê²Œ ì¢‹ì„ê¹Œìš”?",
                answer: true,
                explanation: "ë‚´ê°€ ë„ì§„ì´ ì˜¤ë¹ ë‘ ë‹¤ì˜¨ì´ ì–¸ë‹ˆí•œí…Œ ë¨¼ì € ì¸ì‚¬í–ˆë”ë‹ˆ ì—„ì²­ ë°˜ê°€ì›Œí–ˆì–´. ì‹¬ì¥ì´ ì½©ë‹¥ê±°ë ¤ë„ ë¨¼ì € ë§ì„ ê±¸ë©´ í›¨ì”¬ ê¸°ë¶„ì´ ì¢‹ì•„ì§ˆ ê±°ì•¼!"
            }
        ];
        
        const THEME_EMOJI = "ğŸª„";

        // --- êµ¬ë™ ë¡œì§ ---
        let currentState = { pageIndex: 0, quizIndex: 0, quizStatus: 'question', lastAnswer: null };
        const app = document.getElementById('app');

        function render() {
            app.innerHTML = ''; 
            if (currentState.pageIndex < storyData.length) {
                const page = storyData[currentState.pageIndex];
                if (page.type === 'cover') renderCover(page);
                else if (page.type === 'ending') renderEnding(page);
                else renderStoryPage(page, page.type === 'quiz_intro');
            } else if (currentState.pageIndex === storyData.length) {
                renderQuiz();
            }
        }

        function renderCover(data) {
            const div = document.createElement('div');
            div.className = "w-full h-full relative cursor-pointer fade-in";
            div.onclick = nextPage;
            div.innerHTML = `
                <div class="img-container">
                    <img src="${data.image}" class="img-cover" alt="í‘œì§€" onerror="this.parentElement.innerHTML='<div class=\\'flex flex-col items-center justify-center h-full text-gray-500\\'>ì´ë¯¸ì§€ ì¤€ë¹„ì¤‘<br>${data.image}</div>'">
                </div>
                <div class="absolute bottom-20 w-full text-center">
                     <div class="inline-block bg-black/40 backdrop-blur-sm text-white font-comic animate-pulse text-xl px-6 py-3 rounded-full border border-white/30">
                        <span class="mr-2">${THEME_EMOJI}</span>í™”ë©´ì„ íƒ­í•˜ì—¬ ì‹œì‘í•˜ê¸°
                    </div>
                </div>
            `;
            app.appendChild(div);
        }

        function renderEnding(data) {
            const div = document.createElement('div');
            div.className = "w-full h-full relative cursor-pointer fade-in";
            div.onclick = restart;
            div.innerHTML = `
                <div class="img-container">
                    <img src="${data.image}" class="img-cover" alt="ì—”ë”©" onerror="this.parentElement.innerHTML='<div class=\\'flex flex-col items-center justify-center h-full text-gray-500\\'>ì´ë¯¸ì§€ ì¤€ë¹„ì¤‘<br>${data.image}</div>'">
                </div>
                <div class="absolute bottom-20 w-full text-center">
                    <div class="inline-block bg-black/40 backdrop-blur-sm text-white font-comic animate-pulse text-xl px-6 py-3 rounded-full border border-white/30">
                        ì—¬í–‰ ì™„ë£Œ! (ì²˜ìŒìœ¼ë¡œ)
                    </div>
                </div>
            `;
            app.appendChild(div);
        }

        function renderStoryPage(data, isQuizIntro) {
            const div = document.createElement('div');
            div.className = "w-full h-full flex flex-col bg-white fade-in";
            const imgHtml = `<div class="flex-1 img-container relative border-b-4 border-orange-200"><img src="${data.image}" class="img-fit" alt="ì‚½í™”" onerror="this.parentElement.innerHTML='<div class=\\'flex flex-col items-center justify-center h-full text-gray-400\\'>ì´ë¯¸ì§€ ì¤€ë¹„ì¤‘<br>${data.image}</div>'"></div>`;
            
            const textHtml = `
                <div class="h-[33%] flex flex-col relative bg-[#fff7ed]">
                    <div class="flex-1 p-6 overflow-y-auto no-scrollbar text-box -mt-6 z-10 text-lg leading-relaxed text-gray-800 border-t border-orange-50">
                        ${data.title ? `<h2 class="font-comic text-2xl text-orange-600 mb-1 flex items-center gap-2">${data.title}</h2>` : ''}
                        ${data.sub ? `<p class="text-sm text-gray-500 mb-4 font-bold badge inline-block bg-orange-100 px-2 py-0.5 rounded text-orange-600">ğŸ·ï¸ ${data.sub}</p>` : ''}
                        <div class="font-medium">${data.content}</div>
                    </div>
                    <div class="h-20 bg-[#fff7ed] flex justify-between items-center px-6 border-t border-orange-200 z-20 pb-2">
                        <div onclick="prevPage()" class="flex flex-col items-center cursor-pointer text-orange-300 hover:text-orange-500 transition"><span class="text-2xl opacity-60">âª</span><span class="text-xs font-bold mt-1">ì´ì „</span></div>
                        ${isQuizIntro ? 
                            `<div onclick="startQuiz()" class="cursor-pointer text-green-600 flex flex-col items-center btn-theme"><div class="w-14 h-14 bg-green-500 rounded-full flex items-center justify-center text-white text-3xl font-bold shadow-lg border-4 border-green-200">?</div><span class="text-xs font-bold mt-1">í€´ì¦ˆ í’€ê¸°!</span></div>` : 
                            `<div onclick="nextPage()" class="btn-theme flex flex-col items-center text-orange-500"><span class="text-4xl filter drop-shadow-md">${THEME_EMOJI}</span><span class="text-xs font-bold mt-1 text-orange-600">ë‹¤ìŒ</span></div>`
                        }
                    </div>
                </div>
            `;
            div.innerHTML = imgHtml + textHtml;
            app.appendChild(div);
        }

function renderQuiz() {
            // í€´ì¦ˆ ì¢…ë£Œ ì‹œ ë§ˆì§€ë§‰ í˜ì´ì§€(ì—”ë”©, storyData.length - 1)ë¡œ ì´ë™
            if (currentState.quizIndex >= quizData.length) { 
                currentState.pageIndex = storyData.length - 1; 
                render(); 
                return; 
            }

            const currentQ = quizData[currentState.quizIndex];
            const div = document.createElement('div');
            div.className = "w-full h-full flex flex-col bg-orange-50 fade-in";
            
            if (currentState.quizStatus === 'question') {
                div.innerHTML = `
                    <div class="flex-1 flex flex-col items-center justify-center p-6 text-center">
                        <span class="text-orange-600 font-bold text-xl mb-6 bg-orange-100 px-4 py-1 rounded-full border border-orange-200 shadow-sm">
                            ë¬¸ì œ ${currentState.quizIndex + 1} / ${quizData.length}
                        </span>
                        
                        <div class="bg-white p-8 rounded-3xl shadow-xl w-full mb-10 border-4 border-orange-100 relative mt-6">
                            <div class="absolute -top-7 left-1/2 transform -translate-x-1/2 bg-orange-500 text-white px-6 py-2 rounded-full shadow-md border-4 border-white">
                                <span class="font-comic text-3xl font-bold tracking-widest">Quiz</span>
                            </div>
                            <p class="text-2xl font-bold break-keep text-gray-800 leading-normal mt-6">
                                ${currentQ.question}
                            </p>
                        </div>

                        <div class="flex gap-6 justify-center w-full">
                            <button onclick="checkAnswer(true)" class="flex-1 aspect-square max-w-[100px] bg-blue-500 rounded-2xl text-white text-5xl font-black shadow-[0_6px_0_rgb(29,78,216)] active:shadow-none active:translate-y-1 transition-all border-b-4 border-blue-700 flex items-center justify-center">O</button>
                            <button onclick="checkAnswer(false)" class="flex-1 aspect-square max-w-[100px] bg-red-500 rounded-2xl text-white text-5xl font-black shadow-[0_6px_0_rgb(185,28,28)] active:shadow-none active:translate-y-1 transition-all border-b-4 border-red-700 flex items-center justify-center">X</button>
                        </div>
                    </div>
                `;
            } else if (currentState.quizStatus === 'result') {
                const isCorrect = currentState.lastAnswer === currentQ.answer;
                const emoji = isCorrect ? `ğŸ‰${THEME_EMOJI}ğŸ‰` : 'ğŸ¤”ğŸ’¦';
                const bgClass = isCorrect ? 'bg-green-500' : 'bg-orange-400';
                
                div.innerHTML = `
                    <div class="w-full h-full ${bgClass} flex flex-col items-center justify-center text-white cursor-pointer" onclick="showExplanation()">
                        <div class="text-8xl mb-6 animate-bounce filter drop-shadow-lg">${emoji}</div>
                        <h2 class="text-5xl font-comic mb-4 drop-shadow-md">${isCorrect ? 'ì •ë‹µ!' : 'ë•¡!'}</h2>
                        <div class="animate-pulse text-lg bg-white/20 px-6 py-2 rounded-full font-bold mt-4 border border-white/40">
                            í™”ë©´ì„ ëˆŒëŸ¬ í•´ì„¤ ë³´ê¸° ğŸ‘†
                        </div>
                    </div>
                `;
            } else if (currentState.quizStatus === 'explanation') {
                const isLast = currentState.quizIndex === quizData.length - 1;
                div.innerHTML = `
                    <div class="flex-1 flex flex-col p-6 bg-white cursor-pointer" onclick="nextQuizStep()">
                        <div class="flex-1 flex flex-col justify-center items-center">
                            <h3 class="text-2xl font-comic text-orange-600 mb-8 flex items-center gap-2 border-b-2 border-orange-100 pb-2">
                                ìœ¨ì´ì˜ í•´ì„¤
                            </h3>
                            <div class="bg-orange-50 p-8 rounded-3xl border-2 border-orange-200 shadow-lg relative w-full">
                                <div class="absolute -top-6 -left-2 text-6xl filter drop-shadow-sm transform -rotate-12">ğŸ’¡</div>
                                <p class="text-xl font-medium text-gray-800 leading-relaxed word-keep mt-2">
                                    "${currentQ.explanation}"
                                </p>
                            </div>
                        </div>
                        <div class="h-24 flex items-center justify-center w-full">
                            <div class="btn-theme flex flex-col items-center w-full bg-orange-100 py-3 rounded-xl border border-orange-200">
                                <span class="text-3xl">${THEME_EMOJI}</span>
                                <span class="text-lg font-bold text-orange-600 mt-1">${isLast ? "ê²°ê³¼ ë³´ê¸°!" : "ë‹¤ìŒ ë¬¸ì œë¡œ"}</span>
                            </div>
                        </div>
                    </div>
                `;
            }
            app.appendChild(div);
        }        function nextPage() { if (currentState.pageIndex < storyData.length) { currentState.pageIndex++; render(); }}
        function prevPage() { if (currentState.pageIndex > 0) { currentState.pageIndex--; render(); }}
        function startQuiz() { currentState.pageIndex = storyData.length; currentState.quizIndex = 0; currentState.quizStatus = 'question'; render(); }
        function checkAnswer(ans) { currentState.lastAnswer = ans; currentState.quizStatus = 'result'; render(); }
        function showExplanation() { currentState.quizStatus = 'explanation'; render(); }
        function nextQuizStep() { currentState.quizIndex++; currentState.quizStatus = 'question'; render(); }
        function restart() { currentState.pageIndex = 0; currentState.quizIndex = 0; render(); }

        render();
    </script>
</body>
</html>
